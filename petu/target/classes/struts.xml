<?xml version="1.0" encoding="GBK"?>
<!-- 指定Struts2配置文件的DTD信息 -->
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
	"http://struts.apache.org/dtds/struts-2.1.7.dtd">
<!-- Struts2配置文件的根元素 -->
<struts>
	<!-- 配置了系列常量 -->
	<constant name="struts.custom.i18n.resources" value="resource"/>
	<constant name="struts.i18n.encoding" value="GBK"/>
	<constant name="struts.devMode" value="true"/>
	<package name="lee" extends="struts-default">
    <interceptors>
			<!-- 配置普通员工角色的权限检查拦截器 -->
			<interceptor name="empAuth"	class=
			"com.keemo.petstore.authority.EmpAuthorityInterceptor"/>
			<!-- 配置经理角色的权限检查拦截器 -->
			<interceptor name="mgrAuth"	class=
			"com.keemo.petstore.action.authority.MgrAuthorityInterceptor"/>
			<!-- 配置普通员工的默认的拦截器栈 -->
			<interceptor-stack name="empStack">
				<interceptor-ref name="defaultStack"/>
				<interceptor-ref name="empAuth"/>
			</interceptor-stack>
			<!-- 配置经理的默认的拦截器栈 -->
			<interceptor-stack name="mgrStack">
				<interceptor-ref name="defaultStack"/>
				<interceptor-ref name="mgrAuth"/>
			</interceptor-stack>
		</interceptors>
	 
	
		<!-- 定义处理用户请求的Action -->
		<!-- 定义处理登录系统的的Action -->
	<action name="processLogin"
		class="com.keemo.petstore.action.AdminLogin">
	<result name="input">/content/login.jsp</result>
	<result name="adm">/WEB-INF/content/logined.jsp</result>
	<result name="error">/WEB-INF/content/login.jsp</result>
	</action>
		<!-- 让用户直接访问该应用时列出所有视图页面 -->
	<action name="*">
			<result>/WEB-INF/content/{1}.jsp</result>
	</action>
	</package>
	
	
	<package name="file" extends="struts-default" >  
  
       <action name="uploadList" class="com.keemo.petstore.action.UpLoadAction">  
  
           <result name="success">/WEB-INF/content/success.jsp</result>  
           <result name="input">/content/register.jsp</result>  
  
       </action>  
    </package>  
    
    <package name="see" extends="struts-default" >  
       <action name="getCatteryList" class="com.keemo.petstore.action.AdminLogin" method="getCatteryList">  
           <result name="catterylist">/content/catterylist.jsp</result>  
           <result name="input">/content/catterylist.jsp</result>  
       </action>  
      
       <action name="getCatList" class="com.keemo.petstore.action.CatListAction">  
           <result name="catlist">/content/catlist.jsp</result>
           <result name="input">/content/catlist.jsp</result>
       </action>  
       
        <action name="CatsByQueryAction" class="com.keemo.petstore.action.CatListAction" method="CatsByQueryAction">  
           <result name="catsquery">/content/catlist.jsp</result>
           <result name="input">/content/catlist.jsp</result>
       </action>  
       <action name="CatDetailAction" class="com.keemo.petstore.action.CatDetailAction" >  
           <result name="catdetail">/content/catdetail.jsp</result>
           <result name="input">/content/catdetail.jsp</result>
       </action>  
       
        <action name="CatteryListAction" class="com.keemo.petstore.action.CatteryListAction" >  
           <result name="catterylist">/content/catterylist.jsp</result>
           <result name="input">/content/catterylist.jsp</result>
       </action>
       
       <action name="CatterysByQueryAction" class="com.keemo.petstore.action.CatteryListAction" method="CatterysByQueryAction">  
           <result name="catteryquery">/content/catterylist.jsp</result>
           <result name="input">/content/catterylist.jsp</result>
       </action>
       
       
        <action name="CatteryDetailAction" class="com.keemo.petstore.action.CatteryDetailAction" >  
           <result name="catterydetail">/content/catterydetail.jsp</result>
           <result name="input">/content/catterydetail.jsp</result>
        </action>  
        
        <action name="CatsByCatteryAction" class="com.keemo.petstore.action.CatteryDetailAction" method="CatsByCatteryAction">  
           <result name="catslist">/WEB-INF/content/catterylistdiv.jsp</result> 
           <result name="input">/content/catterydetail.jsp</result>
        </action>
        
         <action name="MemOwnCatsAction" class="com.keemo.petstore.action.MemberDetailAction" method="MemOwnCatsAction">  
           <result name="memcatlist">/WEB-INF/content/memcatlistdiv.jsp</result>
           <result name="input">/content/memdetaillist.jsp</result>
        </action>
       
        <action name="MemOrderListAction" class="com.keemo.petstore.action.MemberDetailAction" method="MemOrderListAction">  
           <result name="memordlist">/WEB-INF/content/memordlistdiv.jsp</result>
           <result name="input">/content/memdetaillist.jsp</result>
        </action>
        
        <action name="MemCartAction" class="com.keemo.petstore.action.MemberDetailAction" method="MemCartAction">  
           <result name="memcartlist">/WEB-INF/content/memcartlistdiv.jsp</result>
           <result name="input">/content/memdetaillist.jsp</result>
        </action>
          <action name="MemFollowedAction" class="com.keemo.petstore.action.MemberDetailAction" method="MemFollowedAction">
           <result name="memcatterylist">/WEB-INF/content/memcatterylistdiv.jsp</result>
           <result name="input">/content/memdetaillist.jsp</result>
        </action>
        
    </package>
    
	
</struts>
